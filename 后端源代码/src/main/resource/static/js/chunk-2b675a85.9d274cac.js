(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b675a85"],{"0876":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"StatementAdmin"},[a("transition",{attrs:{name:"fade"}},[t.isLoading?a("loading"):t._e()],1),a("h2",[t._v("弦外思念透窗花")]),a("mavon-editor",{ref:"md",staticStyle:{height:"600px"},attrs:{toolbars:t.toolbars,id:"edit",ishljs:!0},on:{keydown:function(t){},imgAdd:t.imgAdd,imgDel:function(t){},change:t.change,save:t.changeStatement},model:{value:t.context,callback:function(e){t.context=e},expression:"context"}}),a("div",{staticClass:"edit-button"},[a("el-button",{attrs:{type:"primary",round:""},on:{click:t.changeStatement}},[t._v("修改")]),a("el-button",{attrs:{type:"success",round:""},on:{click:t.goBack}},[t._v("返回")])],1)],1)},s=[],o=a("7ac2"),i={components:{Loading:o["a"]},name:"StatementAdmin.vue",data:function(){return{isLoading:!0,context:"# 标题\n正文",toolbars:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!0,code:!0,table:!0,fullscreen:!0,readmodel:!0,htmlcode:!0,help:!0,undo:!0,redo:!0,trash:!0,save:!0,navigation:!0,alignleft:!0,aligncenter:!0,alignright:!0,subfield:!0,preview:!0}}},created:function(){var t=this,e=this.$store.getters.getUser;null!==e?(this.axios.post("/login",{username:e.username,password:e.password}).then((function(a){e=a.data.data,e||t.$router.push("/404Page.html")})),this.axios.get("/getStatement").then((function(e){t.context=e.data.data.statement})),this.isLoading=!1):this.$router.push("/404Page.html")},methods:{imgAdd:function(t,e){var a=this,n=new FormData;n.append("image",e),this.axios.post("/upload",n).then((function(e){200===e.data.status?a.$refs.md.$img2Url(t,e.data.data.url):a.$message.error(e.data.msg)})).catch((function(t){console.log(t)}))},change:function(t,e){this.html=e},goBack:function(){this.$router.push("/BlogEdit")},changeStatement:function(){var t=this,e=this.$store.getters.getUser;this.axios.post("/changeStatement",{username:e.username,password:e.password,statement:this.context}).then((function(e){200==e.data.status?(t.$message({showClose:!0,message:"声明修改成功",type:"success"}),t.$router.push("/Statement")):t.$message({showClose:!0,message:"发布失败,请检查服务器是否连接正常",type:"error"})}))}}},r=i,c=(a("ddaf"),a("2877")),u=Object(c["a"])(r,n,s,!1,null,"6028c3a7",null);e["default"]=u.exports},"356c":function(t,e,a){},"3e29":function(t,e,a){"use strict";a("356c")},"7ac2":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loading"})},s=[],o={name:"Loading"},i=o,r=(a("3e29"),a("2877")),c=Object(r["a"])(i,n,s,!1,null,"4760dbf5",null);e["a"]=c.exports},ddaf:function(t,e,a){"use strict";a("fd2e")},fd2e:function(t,e,a){}}]);
//# sourceMappingURL=chunk-2b675a85.9d274cac.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11878bd9"],{"356c":function(t,e,n){},"3e29":function(t,e,n){"use strict";n("356c")},"7ac2":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loading"})},a=[],o={name:"Loading"},i=o,r=(n("3e29"),n("2877")),c=Object(r["a"])(i,s,a,!1,null,"4760dbf5",null);e["a"]=c.exports},"7d7b":function(t,e,n){},"86c6":function(t,e,n){"use strict";n("7d7b")},"900a":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"AboutAdmin"},[n("transition",{attrs:{name:"fade"}},[t.isLoading?n("loading"):t._e()],1),n("h2",[t._v("弦外思念透窗花")]),n("mavon-editor",{ref:"md",staticStyle:{height:"600px"},attrs:{toolbars:t.toolbars,id:"edit",ishljs:!0},on:{keydown:function(t){},imgAdd:t.imgAdd,imgDel:function(t){},change:t.change,save:t.changeAbout},model:{value:t.context,callback:function(e){t.context=e},expression:"context"}}),n("div",{staticClass:"edit-button"},[n("el-button",{attrs:{type:"primary",round:""},on:{click:t.changeAbout}},[t._v("修改")]),n("el-button",{attrs:{type:"success",round:""},on:{click:t.goBack}},[t._v("返回")])],1)],1)},a=[],o=n("7ac2"),i={components:{Loading:o["a"]},name:"AboutAdmin.vue",data:function(){return{isLoading:!0,context:"# 标题\n正文",toolbars:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!0,code:!0,table:!0,fullscreen:!0,readmodel:!0,htmlcode:!0,help:!0,undo:!0,redo:!0,trash:!0,save:!0,navigation:!0,alignleft:!0,aligncenter:!0,alignright:!0,subfield:!0,preview:!0}}},created:function(){var t=this,e=this.$store.getters.getUser;null!==e?(this.axios.post("/login",{username:e.username,password:e.password}).then((function(n){e=n.data.data,e||t.$router.push("/404")})),this.axios.get("/getAbout").then((function(e){t.context=e.data.data.about})),this.isLoading=!1):this.$router.push("/404Page.html")},methods:{imgAdd:function(t,e){var n=this,s=new FormData;s.append("image",e),this.axios.post("/upload",s).then((function(e){200===e.data.status?n.$refs.md.$img2Url(t,e.data.data.url):n.$message.error(e.data.msg)})).catch((function(t){console.log(t)}))},change:function(t,e){this.html=e},goBack:function(){this.$router.push("/BlogEdit")},changeAbout:function(){var t=this,e=this.$store.getters.getUser;this.axios.post("/changeAbout",{username:e.username,password:e.password,about:this.context}).then((function(e){200==e.data.status?(t.$message({showClose:!0,message:"关于修改成功",type:"success"}),t.$router.push("/About")):t.$message({showClose:!0,message:"发布失败,请检查服务器是否连接正常",type:"error"})}))}}},r=i,c=(n("86c6"),n("2877")),u=Object(c["a"])(r,s,a,!1,null,"4d8cdad8",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-11878bd9.9d1bcf50.js.map